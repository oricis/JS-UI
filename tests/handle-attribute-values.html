<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://gitcdn.link/repo/oricis/notes/master/contents/css/reset.css"
        rel="stylesheet">
    <link href="https://gitcdn.link/repo/oricis/bootstrap-based-styles/master/assets/buttons-bootstrap-based.css"
        rel="stylesheet">

    <style>
        .border-top {
            border-top: 1px solid grey;
        }
        .cblue {
            color: rgb(91, 133, 211);
        }
        .cgrey {
            color:grey;
        }
        .flex {
            display: flex;
        }
        .flex-both {
            justify-content: space-between;
        }
        .right-content {
            text-align: right;
        }
        .top-2 {
            margin-top: 2%;
        }
        .top-5 {
            margin-top: 5%;
        }
        .left-5 {
            margin-left: 5%;
        }

        /* custom styles */
        .content {
            margin    : 2rem auto;
            max-width : 920px;
            width     : 90%;
        }
        header nav div {
            width: 130px;
        }
    </style>

    <script src="../src/ui.js" defer></script>
    <script src="../src/ui_styles.js" defer></script>
    <script src="../src/utils.js" defer></script>
</head>
<body>
    <div class="content">
        <header>
            <h1>The page title</h1>

            <nav class="flex flex-both top-2">
                <span data-id="1">Hello Foo</span>
                <div class="flex flex-both">
                    <a href="">Watch profile</a>
                    <span class="left-5"> | </span>
                    <a href="" class="left-5">Exit</a>
                </div>
            </nav>
        </header>

        <section id="one" class="top-5">
            <article>
                <h2>Lorem ipsum 1</h2>

                <p class="cblue top-2" id="text-one">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum dicta vero iste. Commodi recusandae quaerat sint quod illo libero officia, reiciendis explicabo voluptatum obcaecati saepe aliquam dolore impedit vel tempora.</p>

                <section class="button-group right-content top-2">
                    <button class="btn btn-primary btn-small" id="swap-color-one">
                        Swap text color
                    </button>
                    <button class="btn btn-danger btn-small" id="remove-text-one">
                        Remove text
                    </button>
                </section>
            </article>
        </section>

        <section id="two" class="top-5">
            <article>
                <h2>Lorem ipsum 2</h2>

                <p class="cblue top-2" id="text-two">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum dicta vero iste. Commodi recusandae quaerat sint quod illo libero officia, reiciendis explicabo voluptatum obcaecati saepe aliquam dolore impedit vel tempora.</p>

                <section class="button-group right-content top-2">
                    <button class="btn btn-primary btn-small" id="swap-color-two">
                        Swap text color
                    </button>
                    <button class="btn btn-danger btn-small" id="remove-text-two">
                        Remove text
                    </button>
                </section>
            </article>
        </section>

        <section id="three" class="top-5">
            <article>
                <h2>Lorem ipsum 3</h2>

                <p class="cblue top-2" id="text-three">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum dicta vero iste. Commodi recusandae quaerat sint quod illo libero officia, reiciendis explicabo voluptatum obcaecati saepe aliquam dolore impedit vel tempora.</p>

                <section class="button-group right-content top-2">
                    <button class="btn btn-primary btn-small" id="swap-color-three">
                        Swap text color
                    </button>
                    <button class="btn btn-danger btn-small" id="remove-text-three">
                        Remove text
                    </button>
                </section>
            </article>
        </section>

        <section class="button-group right-content top-5 border-top">
            <button class="btn btn-danger btn-small top-2" id="remove-first-text">
                Remove first text
            </button>
            <button class="btn btn-danger btn-small top-2" id="remove-all-texts">
                Remove all texts
            </button>
        </section>
    </div>

    <script>
        window.onload = () => {
            const removeAllTextsStr  = 'remove-all-texts'
            const removeFirstTextStr = 'remove-first-text';
            const removeTextStr      = 'remove-text-';
            const swapColorStr       = 'swap-color-';

            const buttonDataObj     = {};
            const defaultCssClass   = 'cblue';
            const secondaryCssClass = 'cgrey';
            const textsSelector     = 'section article p';

            const removeTextContentByTextId = (id) => {
                console.log('removeTextContent() - ID: ' + id); // HACK:
                const key = swapColorStr + id;

                const textId = 'text-' + id;
                removeTextById(textId);
            }
            const swapTextColor = (id) => {
                const key = removeTextStr + id;

                // HACK: traces
                // console.log('clicked button on element ID: ' + id);
                // console.log('button: ' + event.target.id);
                // console.log($('#' + id).id, $('#' + id).className);

                if (! existObjectKey(buttonDataObj, key)) {
                    buttonDataObj[key] = defaultCssClass;
                }

                if (buttonDataObj[key] === defaultCssClass) {
                    buttonDataObj[key] = secondaryCssClass;
                    removeCssClass('#' + id + ' article p', defaultCssClass);
                    addCssClass('#' + id + ' article p', secondaryCssClass);

                } else {
                    buttonDataObj[key] = defaultCssClass;
                    removeCssClass('#' + id + ' article p', secondaryCssClass);
                    addCssClass('#' + id + ' article p', defaultCssClass);
                }

                console.log('Actual CSS class (text with ID: ' + id + '): '
                    + buttonDataObj[key]); // HACK: trace
            }


            const buttons = $('.btn');
            buttons.forEach(btn => {

                if (strpos(btn.id, swapColorStr)) {
                    btn.addEventListener('click', (event, btn) => {
                        const id = getLastSlice(event.target.id, '-');

                        swapTextColor(id);
                    });

                    return;
                }

                if (strpos(btn.id, removeTextStr)) {
                    btn.addEventListener('click', (event, btn) => {
                        const id = getLastSlice(event.target.id, '-');

                        removeTextContentByTextId(id);
                    });
                }
            });

            $('#' + removeAllTextsStr).addEventListener('click', (event) => {
                removeText(textsSelector, 'all');
            });

            $('#' + removeFirstTextStr).addEventListener('click', (event) => {
                removeText(textsSelector, 0);
            });
        };
    </script>
</body>
</html>
